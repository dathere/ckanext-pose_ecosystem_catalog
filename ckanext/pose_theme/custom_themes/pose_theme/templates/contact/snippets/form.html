{% ckan_extends %}

{% block contact_form_heading %}

{% endblock %}

{% block contact_form_legend_content %}
<div class="form-header" style="text-align: center; padding: 0 0 40px 0; margin-bottom: 40px; border-bottom: 1px solid #e5e7eb;">
  <h1 style="font-size: 36px; font-weight: 600; color: #111827; margin: 0 0 16px 0; letter-spacing: -0.02em;">
    Contact Us
  </h1>
  <p style="font-size: 18px; color: #6b7280; line-height: 1.6; max-width: 650px; margin: 0 auto;">
    Have a question or feedback about the CKAN Ecosystem Catalog? We'd love to hear from you.
  </p>
</div>
{% endblock %}

{% block contact_form_fields %}
<div style="max-width: 650px; margin: 0 auto;">
  
  {# Name Field - REQUIRED but pre-filled for logged-in users #}
  <div class="form-group" style="margin-bottom: 32px;">
    <label class="control-label" for="field-name" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      <span style="color: #ef4444; margin-right: 4px;">*</span>
      Your Name
    </label>
    <input
      type="text"
      id="field-name"
      name="name"
      class="form-control"
      placeholder="John Doe"
      value="{{ c.userobj.fullname if c.userobj else data.get('name', '') }}"
      required
      style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s;"
    />
  </div>

  {# Email Field - REQUIRED but pre-filled for logged-in users #}
  <div class="form-group" style="margin-bottom: 32px;">
    <label class="control-label" for="field-email" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      <span style="color: #ef4444; margin-right: 4px;">*</span>
      Email Address
    </label>
    <input
      type="email"
      id="field-email"
      name="email"
      class="form-control"
      placeholder="your.email@example.com"
      value="{{ c.userobj.email if c.userobj else data.get('email', '') }}"
      required
      style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s;"
    />
    <p style="font-size: 14px; color: #6b7280; margin: 10px 0 0 0; line-height: 1.5;">
      We'll use this to respond to your inquiry
    </p>
  </div>

  {# Organization Field - OPTIONAL #}
  <div class="form-group" style="margin-bottom: 32px;">
    <label class="control-label" for="field-organization" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      Organization <span style="color: #9ca3af; font-weight: 400; font-size: 14px;">(Optional)</span>
    </label>
    <input
      type="text"
      id="field-organization"
      name="organization"
      class="form-control"
      placeholder="Your organization or company name"
      value="{{ data.get('organization', '') }}"
      style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s;"
    />
  </div>

  {# Subject Field - REQUIRED #}
  <div class="form-group" style="margin-bottom: 32px;">
    <label class="control-label" for="field-subject" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      <span style="color: #ef4444; margin-right: 4px;">*</span>
      Subject
    </label>
    <div class="controls">
      <select
        id="field-subject"
        name="subject"
        class="form-control"
        required
        style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s; background-color: #fff;"
      >
        <option value="">Select a topic...</option>
        <option value="general" {% if data.get('subject') == 'general' %}selected{% endif %}>General Inquiry</option>
        <option value="submission" {% if data.get('subject') == 'submission' %}selected{% endif %}>Question About Submissions</option>
        <option value="technical" {% if data.get('subject') == 'technical' %}selected{% endif %}>Technical Support</option>
        <option value="feedback" {% if data.get('subject') == 'feedback' %}selected{% endif %}>Feedback or Suggestions</option>
        <option value="report" {% if data.get('subject') == 'report' %}selected{% endif %}>Report an Issue</option>
        <option value="partnership" {% if data.get('subject') == 'partnership' %}selected{% endif %}>Partnership Opportunity</option>
        <option value="other" {% if data.get('subject') == 'other' %}selected{% endif %}>Other</option>
      </select>
    </div>
  </div>

  {# Message Field - REQUIRED #}
  <div class="form-group" style="margin-bottom: 32px;">
    <label class="control-label" for="field-content" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      <span style="color: #ef4444; margin-right: 4px;">*</span>
      Message
    </label>
    <textarea
      id="field-content"
      name="content"
      class="form-control"
      placeholder="Please provide details about your inquiry or feedback..."
      rows="8"
      required
      style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s; resize: vertical; font-family: inherit; line-height: 1.6;"
    >{{ data.get('content', '') }}</textarea>
    <p style="font-size: 14px; color: #6b7280; margin: 10px 0 0 0; line-height: 1.5;">
      Please be as detailed as possible to help us assist you better
    </p>
  </div>

  {# URL/Reference Field - OPTIONAL #}
  <div class="form-group" style="margin-bottom: 40px;">
    <label class="control-label" for="field-url" style="display: block; font-weight: 500; font-size: 15px; color: #374151; margin-bottom: 10px;">
      Related URL <span style="color: #9ca3af; font-weight: 400; font-size: 14px;">(Optional)</span>
    </label>
    <input
      type="url"
      id="field-url"
      name="url"
      class="form-control"
      placeholder="https://example.com"
      value="{{ data.get('url', '') }}"
      style="width: 100%; padding: 12px 14px; font-size: 16px; border: 1.5px solid #d1d5db; border-radius: 8px; transition: all 0.2s;"
    />
    <p style="font-size: 14px; color: #6b7280; margin: 10px 0 0 0; line-height: 1.5;">
      If your inquiry relates to a specific page, extension, or site, include the URL here
    </p>
  </div>

</div>

{% endblock %}